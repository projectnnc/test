"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{62870:(e,t,n)=>{n.d(t,{HV:()=>r,OZ:()=>a,dz:()=>i});let i="0x1D3783822491B11F4C13A50FeCeb16B1175C85b5",a="https://bnb-testnet.g.alchemy.com/v2/bzv6dBzoDK0FdfOwt2CO4yjJPuYKwMC2",r=[{inputs:[{internalType:"string",name:"_tick",type:"string"},{internalType:"uint256",name:"index",type:"uint256"}],name:"cancelOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_tick",type:"string"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"createOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"TradeIndex",type:"uint256"},{internalType:"string",name:"_tick",type:"string"}],name:"fillOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"orderId",type:"uint256"}],name:"OrderCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"orderId",type:"uint256"},{indexed:!1,internalType:"string",name:"tick",type:"string"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"}],name:"OrderCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"orderId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!0,internalType:"address",name:"seller",type:"address"}],name:"OrderFilled",type:"event"},{inputs:[{internalType:"uint256",name:"_feePercentage",type:"uint256"}],name:"setFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"newTime",type:"uint8"}],name:"setTime",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"address payable",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"},{inputs:[{internalType:"string",name:"",type:"string"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"tick",type:"string"},{internalType:"string",name:"to",type:"string"},{internalType:"string",name:"amt",type:"string"}],name:"approveData",outputs:[{internalType:"string",name:"json",type:"string"},{internalType:"bytes",name:"jsonHex",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"},{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"tick",type:"string"}],name:"claimData",outputs:[{internalType:"string",name:"json",type:"string"},{internalType:"bytes",name:"jsonHex",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"claimHexMap",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"tick",type:"string"},{internalType:"string",name:"max",type:"string"}],name:"deployData",outputs:[{internalType:"string",name:"json",type:"string"},{internalType:"bytes",name:"jsonHex",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"feePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_tick",type:"string"},{internalType:"uint256",name:"_pageIndex",type:"uint256"},{internalType:"uint256",name:"_pageSize",type:"uint256"}],name:"getActiveTokenOrders",outputs:[{components:[{internalType:"string",name:"tick",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"address",name:"buyer",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"tradeTime",type:"uint256"},{internalType:"uint256",name:"tradeIndex",type:"uint256"},{internalType:"enum Inscription.OrderStatus",name:"status",type:"uint8"}],internalType:"struct Inscription.Order[]",name:"",type:"tuple[]"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_tick",type:"string"},{internalType:"uint256",name:"_page",type:"uint256"},{internalType:"uint256",name:"_pageSize",type:"uint256"}],name:"getTokenOrders",outputs:[{components:[{internalType:"string",name:"tick",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"address",name:"buyer",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"tradeTime",type:"uint256"},{internalType:"uint256",name:"tradeIndex",type:"uint256"},{internalType:"enum Inscription.OrderStatus",name:"status",type:"uint8"}],internalType:"struct Inscription.Order[]",name:"",type:"tuple[]"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_tick",type:"string"}],name:"getTokenOrdersCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"string",name:"_tick",type:"string"}],name:"getUserOrders",outputs:[{components:[{internalType:"string",name:"tick",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"address",name:"buyer",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"tradeTime",type:"uint256"},{internalType:"uint256",name:"tradeIndex",type:"uint256"},{internalType:"enum Inscription.OrderStatus",name:"status",type:"uint8"}],internalType:"struct Inscription.Order[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"ticker",type:"string"}],name:"getUserReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"inscriptions",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"uint8",name:"miningPeriod",type:"uint8"},{internalType:"uint256",name:"rewardPerHour",type:"uint256"},{internalType:"uint256",name:"minted",type:"uint256"},{internalType:"address",name:"deployer",type:"address"},{internalType:"uint40",name:"deployTime",type:"uint40"},{internalType:"uint128",name:"holders",type:"uint128"},{internalType:"uint128",name:"miningHolders",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"tick",type:"string"}],name:"mintData",outputs:[{internalType:"string",name:"json",type:"string"},{internalType:"bytes",name:"jsonHex",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"mintHexMap",outputs:[{internalType:"string",name:"ticker",type:"string"},{internalType:"bool",name:"deployed",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"}],name:"orders",outputs:[{internalType:"string",name:"tick",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"address",name:"buyer",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"tradeTime",type:"uint256"},{internalType:"uint256",name:"tradeIndex",type:"uint256"},{internalType:"enum Inscription.OrderStatus",name:"status",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TIME",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenNames",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalTickers",outputs:[{internalType:"uint256",name:"_value",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"totalVolume",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"}],name:"trade",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"}],name:"tradeFreePoint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"tick",type:"string"},{internalType:"string",name:"to",type:"string"},{internalType:"string",name:"amt",type:"string"}],name:"transferData",outputs:[{internalType:"string",name:"json",type:"string"},{internalType:"bytes",name:"jsonHex",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"tick",type:"string"},{internalType:"string",name:"to",type:"string"},{internalType:"string",name:"amt",type:"string"},{internalType:"string",name:"from",type:"string"}],name:"transferFromData",outputs:[{internalType:"string",name:"json",type:"string"},{internalType:"bytes",name:"jsonHex",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"}],name:"userOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}]},48808:(e,t,n)=>{n.d(t,{WalletProvider:()=>m,v:()=>d});var i=n(95155),a=n(12115),r=n(10582),p=n(98982),s=n(76943),y=n(62870);let u=(0,a.createContext)(),l={chainId:"0x61",chainName:"Bsc Chain",nativeCurrency:{name:"TBNB",symbol:"TBNB",decimals:18},rpcUrls:["https://bsc-testnet.drpc.org"],blockExplorerUrls:["https://bscscan.com/"]};function m(e){let{children:t}=e,[n,m]=(0,a.useState)(null),d=async(e,t)=>{try{let n=new r.k(e),i=await n.getSigner(),a=await i.getAddress(),p="".concat(a.slice(0,6),"...").concat(a.slice(-4));if(await window.ethereum.request({method:"eth_chainId"})!==l.chainId)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:l.chainId}]})}catch(e){if(4902===e.code)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[l]})}catch(e){}}m({address:a,displayAddress:p,signer:i,walletId:t}),window.provider=n,window.signer=i}catch(e){m(null)}},o=()=>{m(null),window.provider=null,window.signer=null};(0,a.useEffect)(()=>(void 0!==window.ethereum&&(window.ethereum.on("accountsChanged",()=>{o()}),window.ethereum.on("chainChanged",()=>{window.location.reload()})),()=>{void 0!==window.ethereum&&(window.ethereum.removeListener("accountsChanged",o),window.ethereum.removeListener("chainChanged",()=>{window.location.reload()}))}),[]),(0,a.useEffect)(()=>{(async()=>{if(window.ethereum)try{let e=new r.k(window.ethereum),t=await e.getSigner(),n=await t.getAddress(),i="".concat(n.slice(0,6),"...").concat(n.slice(-4));await window.ethereum.request({method:"eth_chainId"})!==l.chainId&&await window.ethereum.request({method:"wallet_addEthereumChain",params:[l]}),m({address:n,displayAddress:i,signer:t,walletId:1}),window.provider=e,window.signer=t}catch(e){}})()},[]);let c=async(e,t,i)=>{if(!n)throw Error("Wallet not connected");let a=new r.k(window.ethereum),s=await a.getSigner(),u=new p.NZ(y.dz,y.HV,s),l=await u.createOrder(e,t,i);await l.wait()},T=async(e,t)=>{if(!n)throw Error("Wallet not connected");let i=new r.k(window.ethereum),a=await i.getSigner(),s=new p.NZ(y.dz,y.HV,a),u=await s.cancelOrder(e,t);await u.wait()},g=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n)throw Error("Wallet not connected");try{let n=new r.k(window.ethereum),a=await n.getSigner(),s=new p.NZ(y.dz,y.HV,a),u=await s.fillOrder(e,t,i);await u.wait()}catch(e){throw e}},w=async(e,t,n)=>{try{let i=new s.FR(y.OZ),a=new p.NZ(y.dz,y.HV,i),r=await a.getTokenOrders(e,t,n),u=r[0],l=Number(r[1]);return{orders:u,totalPages:l,currentPage:t}}catch(e){return{orders:[],totalPages:0,currentPage:t}}},b=async()=>{let e=new s.FR(y.OZ),t=new p.NZ(y.dz,y.HV,e);return await t.getAllTicks()},h=async(e,t)=>{let n=new s.FR(y.OZ),i=new p.NZ(y.dz,y.HV,n);return await i.getUserOrders(e,t)},f=async(e,t,n,i)=>{try{let a=new s.FR(i),r=new p.NZ(y.dz,y.HV,a);return await r.getActiveTokenOrders(e,t,n)}catch(e){return[[],0]}},v=async e=>{try{let t=new s.FR(y.OZ),n=new p.NZ(y.dz,y.HV,t),i=await n.getTokenOrdersCount(e);return Number(i)}catch(e){return 0}};return(0,i.jsx)(u.Provider,{value:{walletInfo:n,connectWallet:d,disconnectWallet:o,createOrder:c,cancelOrder:T,fillOrder:g,getTokenOrders:w,getAllTicks:b,getUserOrders:h,getActiveTokenOrders:f,getTokenOrdersCount:v},children:t})}function d(){return(0,a.useContext)(u)}}}]);